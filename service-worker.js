self.addEventListener('install', function(e) {
    e.waitUntil(
        caches.open('muximux').then(function(cache) {
            console.log("opening caches?");
            return cache.addAll([
                '/',
                './browserconfig.xml',
                './favicon.ico',
                './manifest.json',
                './robots.txt',
                './muximux.log',
                './css/bootstrap-iconpicker.min.css',
                './css/bootstrap-grid.min.css',
                './css/muximux.css',
                './css/bootstrap.min.css',
                './css/font-muximux.css',
                './css/font-awesome.min.css',
                './css/iconstyles.css',
                './css/font-pt_sans.css',
                './css/jquery-ui.min.css',
                './css/landing.css',
                './css/spectrum.min.css',
                './css/login.css',
                './css/jquery.fonticonpicker.min.css',
                './css/theme_default.css',
                './css/jquery.fonticonpicker.bootstrap.min.css',
                './css/iconpicker.woff',
                './css/iconpicker.eot',
                './css/iconpicker.svg',
                './css/iconpicker.ttf',
                './css/font-roboto.css',
                './css/bootstrap-slider.min.css',
                './css/fonts/Muximux.eot',
                './css/fonts/Muximux.svg',
                './css/fonts/Muximux.ttf',
                './css/fonts/Muximux.woff',
                './css/fonts/Roboto-Black.ttf',
                './css/fonts/Roboto-BlackItalic.ttf',
                './css/fonts/Roboto-Bold.ttf',
                './css/fonts/Roboto-BoldItalic.ttf',
                './css/fonts/Roboto-Italic.ttf',
                './css/fonts/Roboto-Light.ttf',
                './css/fonts/Roboto-LightItalic.ttf',
                './css/fonts/Roboto-Medium.ttf',
                './css/fonts/Roboto-MediumItalic.ttf',
                './css/fonts/Roboto-Regular.ttf',
                './css/fonts/Roboto-Thin.ttf',
                './css/fonts/Roboto-ThinItalic.ttf',
                './css/theme/Classic.css',
                './css/theme/Modern.css',
                './images/landing-bg.jpg',
                './images/muximux-white.svg',
                './images/ui-bg_flat_30_cccccc_40x100.png',
                './images/ui-bg_flat_50_5c5c5c_40x100.png',
                './images/ui-bg_glass_40_ffc73d_1x400.png',
                './images/ui-bg_highlight-hard_20_0972a5_1x100.png',
                './images/ui-bg_highlight-soft_33_003147_1x100.png',
                './images/ui-bg_highlight-soft_35_222222_1x100.png',
                './images/ui-bg_highlight-soft_44_444444_1x100.png',
                './images/ui-bg_highlight-soft_80_eeeeee_1x100.png',
                './images/ui-bg_loop_25_000000_21x21.png',
                './images/ui-icon-password.png',
                './images/ui-icon-username.png',
                './images/ui-icons_222222_256x240.png',
                './images/ui-icons_4b8e0b_256x240.png',
                './images/ui-icons_a83300_256x240.png',
                './images/ui-icons_cccccc_256x240.png',
                './images/ui-icons_ffffff_256x240.png',
                './images/favicon/android-chrome-192x192.png',
                './images/favicon/android-chrome-256x256.png',
                './images/favicon/apple-touch-icon.png',
                './images/favicon/browserconfig.xml',
                './images/favicon/favicon-16x16.png',
                './images/favicon/favicon-32x32.png',
                './images/favicon/favicon.ico',
                './images/favicon/manifest.json',
                './images/favicon/mstile-150x150.png',
                './images/favicon/safari-pinned-tab.svg',
                './images/source/muximux.psd',
                './js/jquery.fonticonpicker.min.js',
                './js/bootstrap.min.js',
                './js/functions.js',
                './js/tether.min.js',
                './js/jquery-ui.min.js',
                './js/jquery.form.min.js',
                './js/jquery.ui.touch-punch.min.js',
                './js/jquery.webticker.min.js',
                './js/login.js',
                './js/main.js',
                './js/modernizr-custom-3.3.1.min.js',
                './js/spectrum.min.js',
                './js/yrss.min.js',
                './js/jquery-3.2.1.min.js',
                './js/bootstrap-slider.js'
            ]);
        })
    );
});

self.addEventListener('fetch', function(event) {
    console.log(event.request.url);
    event.respondWith(
        caches.match(event.request).then(function(response) {
            return response || fetch(event.request);
        })
    );
});